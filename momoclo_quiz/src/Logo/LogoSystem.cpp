//******************************************************************************
//	ファイル名	：	LogoSystem.cpp
//	作成者		：	kageyama taiki
//	作成日		：	2011/10/10
//	機能		：	システム管理
//------------------------------------------------------------------------------
//	更新履歴	：	
//
//******************************************************************************
//------------------------------------------------------------
//	呼ばなければいけないヘッダ
//------------------------------------------------------------
#include	"Logo.h"
#include	"LogoSystem.h"
//------------------------------------------------------------
//	呼びたいヘッダ
//------------------------------------------------------------
//------------------------------------------------------------
//	変数や宣言
//------------------------------------------------------------
using namespace logo;
//------------------------------------------------------------
//	コンストラクタ
//------------------------------------------------------------
C_System::C_System(const char* fileName) : C_Base(fileName)
{
	mFadeF = true;
	mImage = C_BaseManager::SetLoadImage(mImageFileName.c_str());
	OutputDebugString("constructor:C_System\n");
}

//------------------------------------------------------------
//	デストラクタ
//------------------------------------------------------------
C_System::~C_System()
{
	OutputDebugString("destructor:C_System\n");
}

//------------------------------------------------------------
//	描画
//------------------------------------------------------------
void C_System::Draw()
{
	GetDraw_TpBitmap();
}

//------------------------------------------------------------
//	制御
//------------------------------------------------------------
bool C_System::Control()
{
	if(IsTime()){
		if(mFadeF){
			if(IsFade(C_Base::FADE_OUT)){
				mBufTime = TIME_RESET;
				mFadeF = false;
			}
		}
		else{
			if(IsFade(C_Base::FADE_IN)){
				C_BaseScreen::SetScreenNo(C_BaseScreen::TITLE_SCREEN);
			}
		}
	}
	return false;
}
